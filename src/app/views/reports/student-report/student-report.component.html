<div class="testName">Test Name: <strong>{{fetchedWholeAssignmentResult.testName}}</strong> </div>
<div class="card-stats-container">
  <div class="card-stats">
    <div class="card-stats-body">
      <div class="card-title card-bg-pink">
        <div class="card-icon">
          <span><i class="fas fa-question"></i></span>
        </div>
        Questions Statistics
      </div>
      <div class="card-body">
        <div class="stats">
          <div class="card-subtitle">
            <span> {{metrics?.totalQuestions}} </span><br>
            <span><i class="fas fa-align-justify"  style="color: blue;margin-right: 5px;" ></i>Total Questions</span>
          </div>
        </div>

        <div class="stats">
          <div class="card-subtitle">
            <span> {{metrics?.attempted}} </span><br>
            <span><i class="fas fa-pen" style="color: #9e9e9e;margin-right: 5px;" ></i>Attempted Questions</span>
          </div>
        </div>

        <div class="stats">
          <div class="card-subtitle">
            <span> {{metrics?.skipped}} </span><br>
            <span><i class="fas fa-forward"  style="color: orangered;margin-right: 5px;" ></i>Skipped Questions</span>
          </div>
        </div>

        <div class="stats">
          <div class="card-subtitle">
            <span> {{metrics?.correct}} </span><br>
            <span><i class="fas fa-check-circle" style="color: green;margin-right: 5px;"></i> Correct Questions</span>
          </div>
        </div>

        <div class="stats">
          <div class="card-subtitle">
            <span> {{metrics?.incorrect}} </span><br>
            <span><i class="fas fa-times-circle" style="color: red;margin-right: 5px;"></i>Incorrect Questions</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="card-stats">
    <div class="card-stats-body">
      <div class="card-title card-bg-blue">
        <div class="card-icon">
          <span><i class="fas fa-poll"></i></span>
        </div>
        Marks Statistics
      </div>
      <div class="card-body">
        <div class="stats">
          <div class="card-subtitle">
            <span> {{metrics?.totalMarks}} </span><br>
            <span><i class="fas fa-align-justify"  style="color: blue;margin-right: 5px;" ></i>Total Marks</span>
          </div>
        </div>

        <div class="stats">
          <div class="card-subtitle">
            <span> {{metrics?.marksReceived}} </span><br>
            <span><i class="fas fa-poll" style="color: #9e9e9e;margin-right: 5px;" ></i>Marks Recieved</span>
          </div>
        </div>

        <div class="stats">
          <div class="card-subtitle">
            <span> {{metrics?.skippedMarks}} </span><br>
            <span><i class="fas fa-forward"  style="color: orangered;margin-right: 5px;" ></i>Skipped Marks</span>
          </div>
        </div>

        <div class="stats">
          <div class="card-subtitle">
            <span> {{metrics?.positiveMarks}} </span><br>
            <span><i class="fas fa-plus-circle" style="color: green;margin-right: 5px;"></i>Positive Marks</span>
          </div>
        </div>

        <div class="stats">
          <div class="card-subtitle">
            <span> {{metrics?.negativeMarks}} </span><br>
            <span><i class="fas fa-minus-circle" style="color: red;margin-right: 5px;"></i>Negative Marks</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="card-stats">
    <div class="card-stats-body">
      <div class="card-title card-bg-orange">
        <div class="card-icon">
          <span><i class="far fa-clock"></i></span>
        </div>
        Time Statistics
      </div>
      <div class="card-body">
        <div class="stats">
          <div class="card-subtitle">
            <span> {{(metrics?.totalTimeInSec / 60)  | number  }} min</span><br>
            <span><i class="fas fa-hourglass-half"  style="color: blue;margin-right: 5px;" ></i>Total Time</span>
          </div>
        </div>

        <div class="stats">
          <div class="card-subtitle">
            <span> {{metrics?.correctTimeInSec  / 60 | number}} min</span><br>
            <span><i class="fas fa-hourglass-start" style="color: green;margin-right: 5px;" ></i>Correct Time</span>
          </div>
        </div>

        <div class="stats">
          <div class="card-subtitle">
            <span> {{metrics?.incorrectTimeInSec  / 60 | number}} min</span><br>
            <span><i class="fas fa-hourglass-end"  style="color: red;margin-right: 5px;" ></i>Incorrect Time</span>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<div style="margin: 0px 20px">
  <mat-chip-list aria-label="Fish selection">
    <mat-chip
      *ngFor="let filterItem of filterList"
      (click)="showFilteredData(filterItem)"
      >{{ filterItem }}</mat-chip
    >
  </mat-chip-list>
</div>

<div class="student-report-list-grid">
  <div class="mat-elevation-z8">
    <div class="loading-container" *ngIf="isLoading">
      <mat-spinner *ngIf="isLoading"></mat-spinner>
    </div>
    <div class="mat-elevation-z8">
      <div>
        <table
          mat-table
          [dataSource]="dataSource"
          matSort
          matSortActive="name"
          matSortDisableClear
        >
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
            <td mat-cell *matCellDef="let row">{{ row.name }}</td>
          </ng-container>

          <ng-container matColumnDef="questions">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Questions</th>
            <td mat-cell *matCellDef="let row">{{ row.questions }}</td>
          </ng-container>

          <ng-container matColumnDef="timeTaken">
            <th mat-header-cell *matHeaderCellDef>Time Taken (in sec)</th>
            <td mat-cell *matCellDef="let row">
              {{ row.timeTaken }}
            </td>
          </ng-container>

          <ng-container matColumnDef="attempt">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Attempt</th>
            <td mat-cell *matCellDef="let row">{{ row.attempt }}</td>
          </ng-container>

          <ng-container matColumnDef="incorrect">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Incorrect</th>
            <td mat-cell *matCellDef="let row">{{ row.incorrect }}</td>
          </ng-container>
          <ng-container matColumnDef="skipped">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Skipped</th>
            <td mat-cell *matCellDef="let row">{{ row.skipped }}</td>
          </ng-container>

          <ng-container matColumnDef="score">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Score</th>
            <td mat-cell *matCellDef="let row">{{ row.score }}</td>
          </ng-container>
          <ng-container matColumnDef="correct">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Correct</th>
            <td mat-cell *matCellDef="let row">{{ row.correct }}</td>
          </ng-container>

          <ng-container matColumnDef="accuracy">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Accuracy %
            </th>
            <td mat-cell *matCellDef="let row">{{ row.accuracy }}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>

    </div>
  </div>
</div>
