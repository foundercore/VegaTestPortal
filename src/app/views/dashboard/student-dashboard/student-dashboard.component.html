<div class="student-dash-main">
  <!-- <h2 style="width: 100%;">Student DashBoard</h2>
  <mat-card class="student-dash-card">
    <mat-card-header>
      <mat-card-title>Total Test Taken</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <ngx-charts-advanced-pie-chart [view]="[400, 200]" [scheme]="colorScheme" [results]="resultStats"
        [gradient]="gradient">
      </ngx-charts-advanced-pie-chart>
    </mat-card-content>
  </mat-card> -->

  <div class="assignment-search-bar">
    <mat-form-field style="width: 600px" appearance="outline">
      <mat-label>Search tests</mat-label>
      <input
        matInput
        placeholder="Search Tests"
        #input
        (keyup)="applyFilter($event)"
      />
    </mat-form-field>
  </div>

  <div class="student-dash-list-grid">
    <div class="student-result-container mat-elevation-z8">


      <div class="example-table-container"  style="    height: 400px;
      overflow: auto;">
        <table mat-table [dataSource]="dataSource" class="example-table">
          <ng-container matColumnDef="testName">
            <th mat-header-cell *matHeaderCellDef>TEST NAME</th>
            <td mat-cell *matCellDef="let row">{{ row.testName }}</td>
          </ng-container>

          <ng-container matColumnDef="attempted">
            <th mat-header-cell *matHeaderCellDef>Test Status</th>
            <td mat-cell *matCellDef="let row">
              <span *ngIf="row.attempted" style="color: green;font-weight: bold;">Attempted</span>
              <span *ngIf="!row.attempted" style="color: #ffc107;font-weight: bold;">Not Attempted</span>
            </td>
          </ng-container>


          <ng-container matColumnDef="marksObtained">
            <th   mat-header-cell *matHeaderCellDef>Marks Obtained</th>
            <td  mat-cell *matCellDef="let row">
              <span *ngIf="row.attempted">
                <span style="font-weight: 600; font-size: 16px;">{{ row.marksReceived }}</span>  out of  <span style="font-weight: 600;font-size: 16px;"> {{row.totalMarks}} </span>
              </span>
              <span *ngIf="!row.attempted">
                <span>-</span>
              </span>
              </td>
          </ng-container>

           <!-- actions Column -->
           <ng-container matColumnDef="actions">
            <th mat-header-cell   *matHeaderCellDef>Actions</th>
            <td mat-cell *matCellDef="let row">
              <span
                *ngIf="row.attempted"
                class="action-btn"
                style="display: flex; "
                (click)="viewResult(row)"
                ><mat-icon>assignment</mat-icon>&nbsp;&nbsp;View Result</span
              >
              <span
                *ngIf="!row.attempted"
                class="action-btn"
                style="display: flex; "
                (click)="startTest(row)"
                ><mat-icon>play_circle_filled</mat-icon>&nbsp;&nbsp;Take Test</span
              >
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>

      <mat-paginator [pageSizeOptions]="pageOptions"></mat-paginator>
    </div>
  </div>
</div>
